(this["webpackJsonpsmartwallet-pwa"]=this["webpackJsonpsmartwallet-pwa"]||[]).push([[23],{362:function(e,t,a){"use strict";a.r(t);var n=a(168),i=a.n(n),r=a(169),c=a(31),o=a(0),s=a(41),d=a(114),l=Object(d.a)((function(e){return{root:{fontFamily:"Roboto",fontStyle:"normal",boxSizing:"border-box",margin:"0",padding:"10px 130px",position:"relative",marginBottom:"4rem","@media screen and (max-width: 800px)":{padding:0}},titleH1:{marginLeft:"15px",fontWeight:500,fontSize:"2.4rem",lineHeight:"24px",marginTop:"40px",textAlign:"center","@media screen and (max-width: 800px)":{marginLeft:"15px",fontWeight:400,fontSize:"1.6rem",lineHeight:"24px",marginTop:"40px",textAlign:"left"}},fab:{boxShadow:"none !important",marginLeft:"10px",marginRight:"10px",marginTop:"10px",display:"flex"},contentPersonal:{margin:"0px 90px",marginTop:"3px",background:"#ffff",display:"flex",textAlign:"left",flexDirection:"row",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","@media screen and (max-width: 800px)":{margin:"0px 0px",marginTop:"3px",background:"#ffff",display:"flex",textAlign:"left",flexDirection:"row"}},titleName:{color:"rgba(0, 0, 0, 0,1)",fontWeight:400,fontSize:"1.6rem",lineHeight:"16px"},name:{fontSize:"2.1rem",lineHeight:"24px",letter:"0.15px",fontWeight:400,wordBreak:"break-all",color:"black !important","@media screen and (max-width: 800px)":{fontSize:"1.6rem",lineHeight:"24px",letter:"0.15px"}},buttonBlue:{margin:"30px 550px",textAlign:"center",borderRadius:"4px",fontSize:"14px",fontWeight:600,padding:"12px 31px 14px",background:"#03DAC5",color:"#fff",cursor:"pointer","@media screen and (max-width: 800px)":{textAlign:"center",margin:"30px 130px",borderRadius:"4px",fontSize:"12px",fontWeight:600,padding:"12px 41px 14px",background:"#03DAC5",color:"#fff",cursor:"pointer"},"&:hover":{opacity:".8",boxShadow:"none"}},check:{color:"#03DAC5",width:"60px",margin:"15px 80px 0px 50px","@media screen and (max-width: 800px)":{margin:"10px 30px 0px 50px"}},button:{margin:"20px 50px !important",textAlign:"center !important",borderRadius:"4px !important",fontSize:"14px !important",fontWeight:600,textTransform:"none !important",padding:"12px 31px 14px !important",background:"#03DAC5 !important",color:"#fff !important",cursor:"pointer !important","@media screen and (max-width: 800px)":{textAlign:"center !important",margin:"20px 10px !important",borderRadius:"4px !important",fontSize:"12px !important",fontWeight:600,padding:"12px 15px 14px !important",background:"#03DAC5 !immportant",color:"#fff !important",cursor:"pointer"},"&:hover":{opacity:".8",boxShadow:"none"}},add:{color:"#03DAC5",fontSize:"1.6rem","@media screen and (max-width: 800px)":{fontSize:"1.4rem"}}}})),p=a(363),x=a(229),m=a.n(x).a.create({baseURL:"https://app.api.moncon.co/v1"}),u=a(332),b=a(1),j=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.post("zenroom/credentialIssuerSignRequest",{credentialSubject:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),u.a.error("An error has occurred, check the data!"),console.log(e.t0.message),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),f=a(87),h=a(167),O=a(204),g=a(23),y=a(71),v=a(70),N=a(42);function w(e){var t=e.to,a=e.path,n=e.title,d=e.field,x=Object(N.useToasts)().addToast,m=Object(o.useState)(null),u=Object(c.a)(m,2),O=u[0],w=u[1],S=Object(s.c)((function(e){return e.UserReducer[a].value})),k=Object(s.c)((function(e){return e.UserReducer[a].id})),A=Object(o.useState)(localStorage.hasOwnProperty("credential_".concat(d))),D=Object(c.a)(A,2),T=D[0],C=D[1],R=Object(s.b)(),z=l(),P=function(){var e=Object(r.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===S){e.next=16;break}return(t={id:"did:moncon:".concat(Object(p.a)()),credential:{id:"did:moncon:".concat(Object(p.a)())}}).credential[d]=S,e.next=5,j(t);case 5:a=e.sent,n=a.data,w(n),console.log(a.data),r={id:"".concat(k),value:"".concat(S)},localStorage.setItem("credential_".concat(d),JSON.stringify(n)),C(!0),!0!==T&&(r.status="true"),R({type:"update",payload:r}),e.next=17;break;case 16:x("Add a value to the identity",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){O&&(localStorage.setItem("credential_".concat(d),JSON.stringify(O)),x("Verified credential",{appearance:"success",autoDismiss:!0,autoDismissTimeout:2e3}))}),[O,x,d]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:z.contentPersonal,children:[Object(b.jsx)(f.a,{component:g.b,to:t,color:"secondary","aria-label":"edit",className:z.fab,children:Object(b.jsx)(y.a,{})}),Object(b.jsxs)("div",{style:{flexGrow:1,display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center"},children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:z.titleName,children:[" ",n]}),Object(b.jsx)(g.b,{to:t,children:Object(b.jsx)("h1",{className:z.name,children:S||Object(b.jsx)("span",{className:z.add,children:"+ add"})})})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:!0!==T?Object(b.jsx)(h.a,{className:z.button,variant:"contained",color:"primary",type:"submit",onClick:P,children:"Ask Credential"}):Object(b.jsx)("div",{className:z.check,children:Object(b.jsx)(v.a,{})})})]})]})})}function S(e){var t=e.values,a=e.index,n=l(),d=Object(o.useState)(null),x=Object(c.a)(d,2),m=x[0],u=x[1],O=Object(s.b)(),w=Object(N.useToasts)().addToast,S=function(){var e=Object(r.a)(i.a.mark((function e(){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={id:"did:moncon:".concat(Object(p.a)()),credential:{id:"did:moncon:".concat(Object(p.a)())}}).credential[t.value]=t.id,e.next=4,j(a);case 4:n=e.sent,r=n.data,u(r),console.log(n),console.log(n.data),c={value:"".concat(t.value),id:"".concat(t.id)},"true"!==k&&(c.status="true"),O({type:"update-dynamic-field",payload:c});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){m&&(localStorage.setItem("credential_".concat(t.id),JSON.stringify(m)),w("Verified credential",{appearance:"success",autoDismiss:!0,autoDismissTimeout:2e3}))}),[m,w,t.id]);var k=localStorage.hasOwnProperty("credential_".concat(t.id))||Boolean(m);return Object(b.jsxs)("div",{className:n.contentPersonal,children:[Object(b.jsx)(f.a,{component:g.b,to:"/identity/edit/field/".concat(t.id),color:"secondary","aria-label":"edit",className:n.fab,children:Object(b.jsx)(y.a,{})}),Object(b.jsxs)("div",{style:{flexGrow:1,marginLeft:"1px"},children:[Object(b.jsx)("p",{className:n.titleName,children:t.id}),Object(b.jsx)("h1",{className:n.name,children:t.value})]}),!0!==k?Object(b.jsx)(h.a,{className:n.button,variant:"contained",color:"primary",type:"submit",onClick:S,children:"Ask Credential"}):Object(b.jsx)("div",{className:n.check,style:{marginTop:"30px"},children:Object(b.jsx)(v.a,{})})]},a)}var k=a(17);t.default=function(){var e=Object(N.useToasts)().addToast,t=l(),a=Object(s.b)(),n=Object(o.useState)(null),d=Object(c.a)(n,2),x=d[0],m=d[1],u=Object(s.c)((function(e){return e.UserReducer.name.value})),A=Object(s.c)((function(e){return e.UserReducer.lastName.value})),D=Object(s.c)((function(e){return e.UserReducer.dynamicFields})),T=Object(s.c)((function(e){return e.UserReducer[k.c].value.address})),C=function(){var t=Object(r.a)(i.a.mark((function t(){var n,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={id:"did:moncon:".concat(Object(p.a)()),credential:{id:"did:moncon:".concat(Object(p.a)())}},T){t.next=3;break}return t.abrupt("return",e("Add a value to the identity",{appearance:"error",autoDismiss:!0,autoDismissTimeout:4e3}));case 3:return n.credential[T]=T,t.next=6,j(n);case 6:r=t.sent,c=r.data,m(c),console.log(r),console.log(r.data),o={id:"postal"},"true"!==R&&(o.status="true"),a({type:"update",payload:o});case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){x&&(localStorage.setItem(k.c,JSON.stringify(x)),e("Verified credential",{appearance:"success",autoDismiss:!0,autoDismissTimeout:2e3}))}),[x,e]);var R=localStorage.hasOwnProperty("credential_address")||Boolean(x);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:t.root,children:[Object(b.jsx)("h1",{className:t.titleH1,children:"Personal"}),Object(b.jsxs)("div",{className:t.contentPersonal,children:[Object(b.jsx)(f.a,{component:g.b,to:"/identity/edit/name",color:"secondary","aria-label":"edit",className:t.fab,children:Object(b.jsx)(y.a,{})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:t.titleName,children:"Give Name"}),Object(b.jsx)("h1",{className:t.name,children:u||"---"}),Object(b.jsx)("p",{className:t.titleName,children:"Family Name"}),Object(b.jsx)("h1",{className:t.name,children:A||"---"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:t.titleH1,children:"Contact"}),Object(b.jsx)(w,{to:"/identity/edit/email",path:k.e,title:"Email",field:"email"}),Object(b.jsx)(w,{to:"/identity/edit/mobile",path:k.f,title:"Mobile Phone",field:"mobil"}),Object(b.jsx)(w,{to:"/identity/edit/datebirth",path:k.d,title:"Date Birth",field:"birthday"}),Object(b.jsxs)("div",{className:t.contentPersonal,children:[Object(b.jsx)(f.a,{component:g.b,to:"/identity/edit/postal",color:"secondary","aria-label":"edit",className:t.fab,children:Object(b.jsx)(y.a,{})}),Object(b.jsxs)("div",{style:{flexGrow:1,display:"grid",gridTemplateColumns:"1fr 1fr",alignItems:"center"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:t.titleName,children:"Postal Address"}),Object(b.jsx)(g.b,{to:"/identity/edit/postal",children:Object(b.jsx)("h1",{className:t.name,children:T||Object(b.jsx)("span",{className:t.add,children:"+ add"})})})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:!0!==R?Object(b.jsx)("div",{children:Object(b.jsx)(h.a,{className:t.button,variant:"contained",color:"primary",type:"submit",onClick:C,children:"Ask Credential"})}):Object(b.jsx)("div",{className:t.check,children:Object(b.jsx)(v.a,{})})})]})]}),D.map((function(e,t){return Object(b.jsx)(S,{values:e},t)}))]}),Object(b.jsx)(O.a,{container:!0,item:!0,xs:!0,justifyContent:"center",children:Object(b.jsx)(g.b,{to:"/identity/add/field",children:Object(b.jsx)(h.a,{className:t.button,variant:"contained",color:"primary",type:"submit",children:"ADD"})})})]})})}}}]);
//# sourceMappingURL=23.50d07b5f.chunk.js.map