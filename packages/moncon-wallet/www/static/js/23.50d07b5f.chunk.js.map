{"version":3,"sources":["Components/Indentity/styled.js","services/apiService.js","services/apiHandler.js","Components/Indentity/Field.jsx","Components/Indentity/DinamycField.jsx","Components/Indentity/Indentity.jsx"],"names":["useStyles","makeStyles","theme","root","fontFamily","fontStyle","boxSizing","margin","padding","position","marginBottom","titleH1","marginLeft","fontWeight","fontSize","lineHeight","marginTop","textAlign","fab","boxShadow","marginRight","display","contentPersonal","background","flexDirection","titleName","color","name","letter","wordBreak","buttonBlue","borderRadius","cursor","opacity","check","width","button","textTransform","add","apiService","axios","create","baseURL","process","post","credentialSubject","a","toast","error","console","log","message","Field","to","path","title","field","addToast","useToasts","useState","data","setData","state","useSelector","UserReducer","value","id","localStorage","hasOwnProperty","hasCredentials","sethasCredentials","dispatchUserData","useDispatch","classes","credential","uuidv4","res","payload","setItem","JSON","stringify","status","type","appearance","autoDismiss","autoDismissTimeout","useEffect","className","Fab","component","Link","IconEdit","style","flexGrow","gridTemplateColumns","alignItems","justifyContent","Button","variant","onClick","Check","DinamycField","values","index","Boolean","Identity","lastName","dinamycFields","dynamicFields","address","credential_address","credential_email","credential_mobil","credential_birthday","map","Grid","container","item","xs"],"mappings":"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","file":"static/js/23.50d07b5f.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\nexport const useStyles = makeStyles((theme) => ({\nroot: {\n    fontFamily: \"Roboto\",\n    fontStyle: \"normal\",\n    boxSizing: \"border-box\",\n    margin: \"0\",\n    padding: '10px 130px',\n    position: 'relative',\n    marginBottom: '4rem',\n    \"@media screen and (max-width: 800px)\": {\n  padding: 0,\n    },\n},\ntitleH1:{\n    marginLeft: '15px',\n    fontWeight: 500,\n    fontSize: '2.4rem',\n    lineHeight: '24px',\n    marginTop: '40px',\n    textAlign: 'center',\n    \"@media screen and (max-width: 800px)\": {\n        marginLeft: '15px',\n        fontWeight: 400,\n        fontSize: '1.6rem',\n        lineHeight: '24px',\n        marginTop: '40px',\n        textAlign: 'left',\n    },\n},\n\nfab:{\n    boxShadow: 'none !important',\n    marginLeft: '10px',\n    marginRight: '10px',\n    marginTop: '10px',\n    display: 'flex',\n},\ncontentPersonal:{\n    margin: '0px 90px',\n    marginTop: '3px',\n    background: '#ffff',\n    display: 'flex',\n    textAlign: 'left',\n    flexDirection: 'row',\n    boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\n    \"@media screen and (max-width: 800px)\": {\n        margin: '0px 0px',\n        marginTop: '3px',\n        background: '#ffff',\n        display: 'flex',\n        textAlign: 'left',\n        flexDirection: 'row',\n    },\n},\ntitleName: {\n    color: 'rgba(0, 0, 0, 0,1)',\n    fontWeight: 400,\n    fontSize: '1.6rem',\n    lineHeight: '16px',\n},\nname: {\n    fontSize: '2.1rem',\n    lineHeight: '24px',\n    letter: '0.15px',\n    fontWeight: 400,\n    wordBreak: 'break-all',\n    color: 'black !important',\n    \"@media screen and (max-width: 800px)\": {\n        fontSize: '1.6rem',\n        lineHeight: '24px',\n        letter: '0.15px',\n    },\n},\nbuttonBlue: {\n    margin: \"30px 550px\",\n    textAlign: 'center',\n    borderRadius: \"4px\",\n    fontSize: \"14px\",\n    fontWeight: 600,\n    padding: \"12px 31px 14px\",\n    background: \"#03DAC5\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    \"@media screen and (max-width: 800px)\": {\n        textAlign: 'center',\n        margin: \"30px 130px\",\n        borderRadius: \"4px\",\n        fontSize: \"12px\",\n        fontWeight: 600,\n        padding: \"12px 41px 14px\",\n        background: \"#03DAC5\",\n        color: \"#fff\",\n        cursor: \"pointer\",\n    },\n    '&:hover': {\n        opacity: '.8',\n        boxShadow: 'none',\n    },\n},\ncheck:{\n    color: \"#03DAC5\",\n    width: '60px',\n    margin: \"15px 80px 0px 50px\",\n    \"@media screen and (max-width: 800px)\": {\n        margin: \"10px 30px 0px 50px\",\n    },\n},\nbutton: {\n    margin: \"20px 50px !important\",\n    textAlign: 'center !important',\n    borderRadius: \"4px !important\",\n    fontSize: \"14px !important\",\n    fontWeight: 600,\n    textTransform: 'none !important',\n    padding: \"12px 31px 14px !important\",\n    background: \"#03DAC5 !important\",\n    color: \"#fff !important\",\n    cursor: \"pointer !important\",\n    \"@media screen and (max-width: 800px)\": {\n        textAlign: 'center !important',\n        margin: \"20px 10px !important\",\n        borderRadius: \"4px !important\",\n        fontSize: \"12px !important\",\n        fontWeight: 600,\n        padding: \"12px 15px 14px !important\",\n        background: \"#03DAC5 !immportant\",\n        color: \"#fff !important\",\n        cursor: \"pointer\",\n    },\n        '&:hover': {\n            opacity: '.8',\n            boxShadow: 'none',\n        },\n  },\n  add:{\n    color: '#03DAC5',\n    fontSize: '1.6rem',\n    \"@media screen and (max-width: 800px)\": {\n      fontSize: '1.4rem',\n  \n    },\n  }\n}));\n\n","import axios from \"axios\";\nconst apiService = axios.create({\n    baseURL: process.env.REACT_APP_MONCON_API_BASE_URL,\n  });\n\nexport default apiService","import apiService from \"./apiService\";\nimport toast, { Toaster } from 'react-hot-toast';\n\n\nexport const get = async( )=>{\n    apiService.get('/zenroom/public_key')\n  .then(function (response) {\n    console.log(response);    \n  });\n}\n\nexport const post = async( credentialSubject)=>{\n    try{\n    return await apiService.post('zenroom/credentialIssuerSignRequest',{credentialSubject})\n  \n}\ncatch(error){\n  toast.error('An error has occurred, check the data!');\n    console.log(error.message);\n    return false && ( <Toaster  toastOptions={{duration: 3000,style:{fontSize: '1.6rem'}}}/>\n)\n}\n\n}\n","import React, { useEffect } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useStyles } from \"./styled\";\nimport { post } from \"../../services/apiHandler.js\";\nimport { Fab, Button} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport IconEdit from \"../../Assets/svg/IconEdit\";\nimport Check from \"../../Assets/svg/Check\";\nimport { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useToasts } from 'react-toast-notifications'\n\n\nexport default function Field({ to, path, title, field }) {\n\n  const { addToast } = useToasts()\n  const [data, setData] = useState(null);\n  const state = useSelector((state) => state.UserReducer[path].value);\n  const id = useSelector((state) => state.UserReducer[path].id);\n  const [hasCredentials, sethasCredentials] = useState(localStorage.hasOwnProperty(`credential_${field}`))\n\n  const dispatchUserData = useDispatch();\n  const classes = useStyles();\n\n  const credential = async () => {\n    if(state !== ''){\n   let credentialSubject = {\n      id: `did:moncon:${uuidv4()}`,\n      credential: {\n        id: `did:moncon:${uuidv4()}`,\n      },\n    };\n    credentialSubject.credential[field] = state;\n    const res = await post(credentialSubject);\n    let data = res.data;\n    setData(data);\n    console.log(res.data);\n const payload = {id: `${id}`,value: `${state}`};\n \n localStorage.setItem(`credential_${field}`, JSON.stringify(data));\n sethasCredentials(true)\n    if(hasCredentials !== true){\n      payload.status = 'true'\n    }\n    dispatchUserData({\n      type: 'update',\n      payload \n    })\n    } else {\n addToast('Add a value to the identity', { appearance: 'error',autoDismiss: true, autoDismissTimeout: 4000 });\n    }\n \n\n\n    //storage res data\n  };\n\n    useEffect(() => {\n      if (data) {\n        localStorage.setItem(`credential_${field}`, JSON.stringify(data));\n addToast('Verified credential', { appearance: 'success',autoDismiss: true, autoDismissTimeout: 2000 });\n\n      }\n\n\n    }, [data,addToast,field]);\n\n\n\n\n\n\n\n  return (\n    <>\n      <div className={classes.contentPersonal}>\n        <Fab\n          component={Link}\n          to={to}\n          color=\"secondary\"\n          aria-label=\"edit\"\n          className={classes.fab}\n        >\n          <IconEdit />\n        </Fab>\n        <div\n          style={{\n            flexGrow: 1,\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            alignItems: \"center\",\n          }}\n        >\n          <div>\n            <p className={classes.titleName}> {title}</p>\n            <Link to={to}>\n              <h1 className={classes.name}>\n                {state || <span className={classes.add}>+ add</span>}\n              </h1>\n            </Link>\n          </div>\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            {hasCredentials !== true ? (\n              <Button\n                className={classes.button}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                onClick={credential}\n              >\n                Ask Credential\n              </Button>\n\n            ) : (\n              <div className={classes.check}>\n                <Check />\n              \n              </div>\n\n            )}\n\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useStyles } from \"./styled\";\nimport { post } from \"../../services/apiHandler.js\";\nimport { Fab, Button } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport IconEdit from \"../../Assets/svg/IconEdit\";\nimport Check from \"../../Assets/svg/Check\";\nimport { useDispatch } from \"react-redux\";\nimport { useToasts } from 'react-toast-notifications'\n\nexport default function DinamycField({values,index}) {\n   \n    const classes = useStyles();\n  const [data, setData] = useState(null);\n  const dispatchUserData = useDispatch()\n  const { addToast } = useToasts()\n\n\n const credential = async () => {\n    let credentialSubject = {\n      id: `did:moncon:${uuidv4()}`,\n      credential: {\n        id: `did:moncon:${uuidv4()}`,\n      },\n    };\n    credentialSubject.credential[values.value] = values.id;\n    const res = await post(credentialSubject);\n    let data = res.data;\n    setData(data);\n    console.log(res);\n\n    console.log(res.data);\n   const payload = {value: `${values.value}`, id: `${values.id}`};\n    if(hasCredentials !== 'true'){\n      payload.status = 'true'\n    }\n    dispatchUserData({\n      type: 'update-dynamic-field',\n      payload \n    })\n\n\n    //storage res data\n  };\n\n    useEffect(() => {\n      if (data) {\n        localStorage.setItem(`credential_${values.id}`, JSON.stringify(data));\n        addToast('Verified credential', { appearance: 'success',autoDismiss: true, autoDismissTimeout: 2000 });\n;\n      }\n\n\n    }, [data,addToast,values.id]);\n\n\n\nconst hasCredentials = localStorage.hasOwnProperty(`credential_${values.id}`) || Boolean(data)\n\n    return (              \n        <div className={classes.contentPersonal} key={index}>\n          <Fab\n            component={Link}\n            to={`/identity/edit/field/${values.id}`}\n            color=\"secondary\"\n            aria-label=\"edit\"\n            className={classes.fab}\n          >\n            <IconEdit />\n          </Fab>\n          <div style={{ flexGrow: 1, marginLeft: \"1px\" }}>\n            <p className={classes.titleName}>{values.id}</p>\n\n            <h1 className={classes.name}>{values.value}</h1>\n          </div>\n\n          {hasCredentials !== true ? (\n              <Button\n                className={classes.button}\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                onClick={credential}\n              >\n                Ask Credential\n              </Button>\n            ) : (\n              <div className={classes.check} style={{marginTop: '30px'}}>\n                <Check />\n\n              </div>\n            )}\n   \n        </div>\n      );\n}\n","import { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useStyles } from \"./styled\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { post } from \"../../services/apiHandler.js\";\nimport { Fab, Button, Grid } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport IconEdit from \"../../Assets/svg/IconEdit\";\nimport Check from \"../../Assets/svg/Check\";\nimport { useToasts } from 'react-toast-notifications'\nimport Field from \"./Field\";\nimport DinamycField from \"./DinamycField\";\nimport {\n  credential_mobil,\n  credential_email,\n  credential_address,\n  credential_birthday\n} from \"../../Const\";\n\nconst Identity = () => {\n  const { addToast } = useToasts()\n  const classes = useStyles();\n  const dispatchUserData = useDispatch();\n  const [data, setData] = useState(null);\n  const name = useSelector((state) => state.UserReducer.name.value);\n  const lastName = useSelector((state) => state.UserReducer.lastName.value);  \n  const dinamycFields = useSelector((state) => state.UserReducer.dynamicFields);\n  const address = useSelector(\n    (state) => state.UserReducer.[credential_address].value.address\n  );\n  \n  const credential = async () => {\n    let credentialSubject = {\n      id:`did:moncon:${uuidv4()}`,\n      credential:{\n        id:`did:moncon:${uuidv4()}`,    \n      }\n    }\n    if(!address){\n      return addToast('Add a value to the identity', { appearance: 'error',autoDismiss: true, autoDismissTimeout: 4000 });\n    }\n    credentialSubject.credential[address] = address\n    const res = await post(credentialSubject)\n    let data = res.data;\n    setData(data);\n    console.log(res);\n\n    console.log(res.data)\n    const payload = {id: 'postal'};\n    if(hasCredentials !== 'true'){\n      payload.status = 'true'\n    }\n    dispatchUserData({\n      type: 'update',\n      payload \n    })\n  } \n\n    useEffect(() => {\n      if (data) {\n        localStorage.setItem(credential_address, JSON.stringify(data));\n addToast('Verified credential', { appearance: 'success',autoDismiss: true, autoDismissTimeout: 2000 });\n      }\n    }, [data,addToast]);\n\nconst hasCredentials = localStorage.hasOwnProperty(`credential_address`) || Boolean(data)\n\n  return (\n    <>\n      <div className={classes.root}>\n        <h1 className={classes.titleH1}>Personal</h1>\n        <div className={classes.contentPersonal}>\n          <Fab\n            component={Link}\n            to=\"/identity/edit/name\"\n            color=\"secondary\"\n            aria-label=\"edit\"\n            className={classes.fab}\n          >\n            <IconEdit />\n          </Fab>\n          <div>\n            <p className={classes.titleName}>Give Name</p>\n\n            <h1 className={classes.name}>{name || \"---\"}</h1>\n\n            <p className={classes.titleName}>Family Name</p>\n            <h1 className={classes.name}>{lastName || \"---\"}</h1>\n          </div>\n        </div>\n\n        <div>\n          <h1 className={classes.titleH1}>Contact</h1>\n          <Field to=\"/identity/edit/email\" path={credential_email} title=\"Email\" field=\"email\"/>          \n          <Field to=\"/identity/edit/mobile\" path={credential_mobil} title=\"Mobile Phone\" field=\"mobil\"/>          \n          <Field to=\"/identity/edit/datebirth\" path={credential_birthday} title=\"Date Birth\" field=\"birthday\"/>            \n\n          <div className={classes.contentPersonal}>\n            <Fab\n              component={Link}\n              to=\"/identity/edit/postal\"\n              color=\"secondary\"\n              aria-label=\"edit\"\n              className={classes.fab}\n            >\n              <IconEdit />\n            </Fab>\n            <div\n              style={{\n                flexGrow: 1,\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                alignItems: \"center\",\n              }}\n            >\n              <div>\n                <p className={classes.titleName}>Postal Address</p>\n                <Link to=\"/identity/edit/postal\">\n                  <h1 className={classes.name}>\n                    {address || <span className={classes.add}>+ add</span>}\n                  </h1>\n                </Link>\n              </div>\n\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                {hasCredentials !== true ? (\n                  <div>\n                    <Button\n                      className={classes.button}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      type=\"submit\"\n                      onClick={credential}\n                    >\n                      Ask Credential\n                    </Button>\n                  </div>\n                ) : (\n                  <div className={classes.check}>\n                    <Check />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {dinamycFields.map((values, index) => {\n            return(\n           <DinamycField values={values} key={index} />)\n          })}\n        </div>\n        <Grid container item xs justifyContent=\"center\">\n          <Link to=\"/identity/add/field\">\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n            >\n              ADD\n            </Button>\n          </Link>\n        </Grid>\n      </div>\n    </>\n  );\n};\nexport default Identity;\n"],"sourceRoot":""}